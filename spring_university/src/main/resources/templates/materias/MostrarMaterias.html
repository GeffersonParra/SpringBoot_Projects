<!DOCTYPE html>
<html lang="en">
    <title>Materias | SpringUniversity</title>
<head th:replace="~{base::head}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <nav th:replace="~{base::nav}"></nav>
    <div class="col-10 mx-auto d-flex flex-column justify-content-center">
        <div class="d-flex flex-column justify-content-center align-items-center">
            <h1 class="text-center mt-3 col-10">Materias</h1>
        </div>
        <div class="container text-center">
            <div th:if="${materias.size() == 0}" class="d-flex justify-content-center align-items-center mt-5 rounded-5" style="background-color: rgb(217, 217, 217); height: 10rem;">
                <h3>
                    <box-icon name='sad' type='solid' color='#202020'></box-icon>No hay materias registradas aÃºn.
                </h3>
            </div>
            <div th:if="${materias.size() > 0}" class="container mt-4">
                <div class="row justify-content-center">
                    <div class="col-8 mb-4 mx-auto" th:each="materia : ${materias}">
                        <div class="card">
                            <div class="card-body d-flex justify-content-start gap-3">
                                <img th:src="${materia.ruta_foto}" class="rounded-2 col-3"
                                    style="height: 11rem; object-fit: cover;">
                                <div class="d-flex col-9 flex-column align-items-center">
                                    <h4 class="w-100 h-25 text-center" th:text="${materia.nombre_materia}"></h4>
                                    <p th:text="'Materia del curso: ' + ${materia.curso.nombre_curso}"></p>
                                    <div class="d-flex gap-2 mt-1">
                                        <img th:src="${materia.id_profesor.ruta_foto}"
                                            style="object-fit: cover; width: 3rem; height: 3rem; border-radius: 10rem; position: relative; bottom: 0.5rem;">
                                        <p
                                            th:text="${materia.id_profesor.primer_nombre} + ' ' + ${materia.id_profesor.primer_apellido}">
                                            <hr>
                                        </p>
                                        <box-icon type='solid' name='map-pin' color='#6b6b6b'></box-icon>
                                        <p th:text="${materia.salon}">
                                            <hr>
                                        </p>
                                        <box-icon name='time-five' color='#6b6b6b'></box-icon>
                                        <p th:text="${materia.horaInicio} + ' - ' + ${materia.horaFin}">
                                        </p>
                                    </div>
                                    <div class="d-flex col-10 gap-3 justify-content-center align-items-center">
                                        <a th:href="@{/materias/edit/{id}(id=${materia.id})}" class="col-6" style="text-decoration: none;">
                                            <button class="btn btn-warning col-12 d-flex justify-content-center gap-2"><box-icon
                                                    name='edit-alt' type='solid'></box-icon>Editar materia</button>
                                        </a>
                                        <form th:action="@{/materias/delete/{id}(id=${materia.id})}" method="post" class="col-6">
                                            <button class="btn btn-danger col-12 d-flex justify-content-center gap-2"><box-icon
                                                name='trash' type='solid'></box-icon>Eliminar materia</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <footer th:replace="~{base::footer}"></footer>
</body>
</html>